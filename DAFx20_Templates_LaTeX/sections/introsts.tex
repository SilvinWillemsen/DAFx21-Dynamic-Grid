\section{Introduction}
The operation of most musical instruments can be subdivided into excitation and resonator components \cite{Borin1989}. Examples of excitation-resonator combinations are the bow and violin and the lips and trumpet. In some instruments, the parameters describing the excitation are continuously varied by the performer to play the instrument. As an example, the bow velocity, bow position and bow force for stringed instruments, and lip pressure and frequency for brass instruments. Naturally, the resonator is also altered by fingering the strings of the violin or pressing valves on the trumpet to change the instrument pitch. But, even under such variable playing conditions, physical properties of the resonators do not change: the string length and tension stay the same and the total tube length remains unchanged; it is only the portions that resonate that are shortened or lengthened.

There are several examples where the parameters of the resonator are also modified. A prime example of this is the trombone, where the tube length is dynamically changed in order to generate different pitches. The slide whistle is another example in this category. Guitar strings are another category where the tension can be smoothly modulated during performance using the fretting finger or a whammy bar  %or even the tuning pegs directly (see \cite{Gomm2011}) 
to create smooth pitch glides. The same kind of tension modulation is used for the membranes of timpani or ``hourglass drums" to change the pitch. 
It is these direct parameter modifications of the resonators that we are interested in simulating. In addition to simulating existing instruments, one could potentially simulate instruments that can be manipulated in physically impossible ways. Examples of this could be to dynamically change material properties such as density or stiffness, or even the geometry and size of the instrument where this is physically impossible.

Finite-difference time-domain (FDTD) methods are flexible and generalisable techniques which have seen increased use in physical modelling sound synthesis applications \cite{bilbao2009}. The normal approach, for a given system such as a musical instrument, is to describe its motion by a set of partial differential equations (PDEs). The instrument is then represented over a spatio-temporal grid, yielding a fully discrete approximation to the target PDE system. 

In many cases, the system itself is static, so that the defining parameters do not change over time. In others, such as the trombone and others mentioned above, this is not the case, and various technical challenges arise when trying to design a simulation using FDTD methods; all relate to the choice of the spatial grid. For example, the grid density is usually closely tied to the parameters themselves through a stability condition.
Also, adding and removing points from the grid is nontrivial and can cause audible artifacts and new stability concerns. The default approach of defining a grid globally, according to a very conservative stability condition, as done in \cite{Willemsen2019}, is possible, but introduces numerical dispersion and bandlimiting effects. Full-grid interpolation \cite[Ch. 5]{bilbao2009} could be used to change between grid configurations, but extremely high sample rates are necessary to avoid audible artifacts and low-passing effects, rendering any implementation offline. 

In this paper, a new method is proposed, allowing the efficient and smooth insertion and deletion of grid points from 1D finite-difference grids to allow for dynamic parameter changes. We are interested in varying parameters `slowly' (i.e., at sub-audio rate corresponding to human gestural control). In a companion paper we present a physical model of the trombone using the method proposed in this paper \cite{Willemsen2021}. Notice that other techniques do allow for dynamic parameter changes but come with their own drawbacks \cite{bilbao2009}. Examples of dynamic parameters using modal synthesis \cite{morrison1993mosaic} are shown in \cite{Mehes2016, Willemsen2017} and digital waveguides \cite{Smith1992} in \cite{Michon2014}.

%Among the reasons of why one would simulate an instrument rather than sample an existing one, is that one could extend the capabilities of this instrument beyond what is physically possible, such as changing material properties or size of the instrument dynamically.

% of simulating musical instruments rather than recording them and playing them back (samples), is the flexibility of control and playability of the instrument. Imagine trying to record the entire control space of a violin, i.e., all possible combinations of bowing force, bowing velocity and fingering positions. The recording procedure would take a great amount of time and resources, let alone the amount of data storage required to store all of the high-quality audio.

% Due to the vast parameter space of many instruments, using simulations is a much more viable solution for capturing the full expressivity of an instrument than sampling.
% Some instruments require their parameters to be changed in order to be played. The first instrument that comes to mind is the trombone, where the geometry of the system, i.e., the tube length, is dynamically varied to produce different pitches. 

 %\SBcomment[OK, it's good to have this in here, but this is immediately kind of a red flag for JASA, where they'd expect you to be attacking a problem from the real world first. Otherwise, they might well say that this belongs in CMJ. So: suggesting referring to real world examples first, then bring up the idea of imaginary instruments... ] \SWcomment[Will do!] 
 %An example of a real-world instrument that requires these manipulations is the trombone, where tube length is dynamically controlled by the player.

% This can be extended from musical instruments to rooms and acoustic simulation with variable shapes
% \SBcomment[OK, here, need that boring paragraph saying what's in each section in the paper...] \SWcomment[Haha, yeah thought so... Was hoping to exclude it for space...]

This paper is structured as follows: Section \ref{sec:continuous} presents the 1D wave equation, to be used as an illustrative example for the proposed method. Section \ref{sec:FDTD} gives an introduction to numerical methods, stability and simulation quality. The proposed method for dynamic grids is then presented in Section \ref{sec:dynamicGrid} and applied to the 1D wave equation. Section \ref{sec:results} shows the results of an analysis performed on the method, which are discussed in Section \ref{sec:discussion}. Finally, concluding remarks and future perspectives are given in \ref{sec:conclusion}.